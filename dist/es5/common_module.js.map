{"version":3,"sources":["./dist/esnext/ng_harmony_component.js"],"names":[],"mappings":"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","file":"./dist/es5/common_module.js","sourcesContent":["import {\n    Srvc, Ctrl\n}\nfrom \"ng-harmony\";\nexport class DataService extends Srvc {\n    constructor(...args) {\n        super(...args);\n    }\n    _db(api, {\n        name, oneshot, interval\n    }) {\n        this.name = name;\n        this.oneshot = oneshot === true || !(interval !== undefined && interval !== null);\n        this.interval = interval || null;\n        this.q = this.$q.defer();\n        if (this.db === undefined || this.db === null) {\n            this.db = {\n                busy: false,\n                ready: false,\n                handle: (api !== undefined && api !== null) ? this.$resource(api) : null,\n                store: []\n            }\n        }\n        if (this.db.busy === true) {\n            this.$timeout(() => {\n                (this.oneshot === true) ?\n                this.q.reject():\n                    this.q.notify(false);\n            }, 0);\n        }\n        if (this.oneshot === false) {\n            this.q.promise.then(\n                () => {\n                    true;\n                }, (notification) => {\n                    this.$timeout(this._api, this.interval);\n                }, () => {\n                    false;\n                }\n            )\n        }\n        this._api();\n        this.q.promise();\n    }\n    _api() {\n        if (this.db.busy === true) {\n            return null;\n        }\n        this.db.busy = true;\n        this.db.handle.get().$promise\n            .then((data) => {\n                console.info(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: success`);\n                this._store(data[this.name] || data);\n                this.db.busy = false;\n                if (this.oneshot !== false) {\n                    this.q && this.q.resolve();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(true);\n                }\n            }).catch((err) => {\n                console.warn(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: ${err.toString()}`);\n                if (this.oneshot !== false) {\n                    this.q && this.q.reject();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(false);\n                }\n            });\n    }\n    _store(data) {\n        let _data = Object.prototype.toString.call(data) === \"[object Array]\" ? data : [data];\n        for (let [i, o] of this.db.store.entries()) {\n            o.deleted = true;\n        }\n        for (let [i, o] of this.db.store.entries()) {\n            let current = null;\n            if (current = _data.filter((el, i, arr) => {\n                    return (el.id === o.id);\n                })[0]) {\n                for (let [k, v] of this.constructor.iterate(current)) {\n                    this.db.store[i][k] = v;\n                }\n                this.db.store[i].deleted = false;\n            }\n        }\n        for (let [i, o] of _data.entries()) {\n            let current = null;\n            if (this.db.store.filter((el, i, arr) => {\n                    return el.id === o.id;\n                }).length === 0) {\n                this.db.store.push(o);\n                this.db.store[this.db.store.length - 1].deleted = false;\n            }\n        }\n    }\n}\nDataService.$inject = [\"$resource\", \"$interval\", \"$q\", \"$timeout\"];\nexport class DynamicDataService extends DataService {\n    constructor(...args) {\n        super(...args);\n    }\n    subscribe(callback, oneshot = false) {\n        if (this.subscribers === undefined || this.subscribers === null) {\n            this.subscribers = [];\n        }\n        if (this.once_subscribers === undefined || this.once_subscribers === null) {\n            this.once_subscribers = [];\n        }\n        if (onehost === true) {\n            this.once_subscribers.push(callback);\n        } else {\n            this.subscribers.push(callback);\n        }\n    }\n    aspects(injection, oneshot = false) {\n        if (this.aspects === undefined || this.aspects === null) {\n            this.aspects = [];\n        }\n        if (this.once_aspects === undefined || this.once_aspects === null) {\n            this.once_aspects = [];\n        }\n        if (onehost === true) {\n            this.once_aspects.push(injection);\n        } else {\n            this.aspects.push(injection);\n        }\n    }\n    getData(matcher) {\n        return this.db.store.filter((el, i, arr) => {\n            for (let [k, v] of this.constructor.iterate(matcher)) {\n                if (!(typeof v === \"function\" && v(el[k]) || (el[k] === v))) {\n                    return false;\n                }\n            }\n            return true;\n        })\n    }\n    setData(opts) {\n        if (!~opts.i) {\n            for (let [doc, i] of this.db.store.entries()) {\n                doc[opts.prop] = typeof opts.val === \"function\" ? opts.val(this.db, doc.id) : opts.val;\n            }\n        } else {\n            let foo = this.db.store[typeof opts.i === \"function\" ? opts.i(this.db) : opts.i];\n            if (foo !== undefined && foo !== null) {\n                foo[opts.prop] = typeof opts.val === \"function\" ?\n                    opts.val(this.db, this.db.store[\n                        typeof opts.i === \"function\" ?\n                        opts.i(this.db) :\n                        opts.i\n                    ]) :\n                    opts.val\n            }\n        }\n    }\n    digest() {\n        if (this.db.ready === false) {\n            return null;\n        }\n        if (this.db.resolved === undefined || this.db.resolved === null) {\n            this.db.resolved = false;\n        }\n        for (let [i, once_aspect] of this.once_aspects.entries()) {\n            typeof once_aspect === \"function\" && once_aspect(this.db);\n            this.once_aspects[i] = null;\n        }\n        this.once_aspects = [];\n        for (let [i, aspect] of this.aspects.entries()) {\n            aspect(this.db);\n        }\n        for (let [i, d] of this.db.store.entries()) {\n            if (d.deleted === true) {\n                d.selected = false;\n            } else if (d.selected === true) {\n                this.db.current = d;\n            } else if (d.selected === undefined || d.selected === null) {\n                d.selected = false;\n            }\n        }\n        this.db.resolved = true;\n        for (let [i, once_cb] of this.once_subscribers.entries()) {\n            typeof once_cb === \"function\" && once_cb(this.db);\n            this.once_subscribers[i] = null;\n        }\n        this.once_subscribers = [];\n        for (let [i, cb] of this.subscribers.entries()) {\n            cb(this.db);\n        }\n        return true;\n    }\n}\nexport class Component extends Ctrl {\n    constructor(...args) {\n        super(...args);\n        this.$scope.model = {};\n        this.transform = [{\n            descriptor: \"Name\", //of DataService without the DataService-suffix\n            init: [\n                // i is the id ... 0 - length-1 ... or -1 for all datasets\n                //{ i: 0, prop: \"loading\", val: false },\n                //{ i: -1, prop: \"selected\", val: (db, id) => { return id is 0; } }\n            ],\n            digest: [\n                //{ i: -1, prop: \"selected\", val: (db, id) -> (db.store.find((el, i, arr) => { return el.id is id; }).special is this.$scope.someConditional }\n            ]\n        }];\n        this.$scope.state = {\n            loading: true,\n            selected: null,\n            busy: null,\n            error: null\n        };\n        for (let [i, dataset] of this.transform.entries()) {\n            let Service = this[`${dataset.descriptor[0].toUpperCase()}${dataset.descriptor.substr(1)}DataService`];\n            for (let [i, rule] of dataset.init.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                }, true);\n            }\n            for (let [i, rule] of dataset.digest.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                });\n            }\n        }\n        for (let [key, Service] of this.constructor.iterate(this)) {\n            if (!/DataService/.test(key)) {\n                continue;\n            }\n            descriptor = key.remove(\"DataService\").toLowerCase();\n            Service.subscribe(this._transform.bind(this, descriptor));\n            if (Service.db && Service.db.ready === true) {\n                Service.digest();\n            }\n        }\n        for (let [k, v] of this.constructor.iterate(this.$scope.state)) {\n            let className = this.$element.className.split(/\\s+/);\n            let hasClass = !!~className.indexOf(k);\n            if (v === true && !hasClass) {\n                this.$element.addClass(k);\n            }\n            ((_k, _v, _hasClass, _className) => {\n                this.$scope.$watch(`state.${_k}`, (after, before) => {\n                    if (after === true && !_hasClass) {\n                        this.$element.className += ` ${_k}`;\n                    } else if (_hasClass) {\n                        this.$element.className = _className.filter((el, i, arr) => {\n                            return el !== _k\n                        }).join(\" \");\n                    }\n                    if (before === after || ((before === undefined || before === null) && (after === undefined || after === null))) {\n                        return null;\n                    }\n                    this.$scope.$emit(`state.${_k}`, {\n                        obj: this.toString(),\n                        val: after\n                    });\n                })\n            })(k, v, hasClass, className);\n        }\n    }\n    _transform(descriptor, db) {\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null) {\n            this.$scope.model[descriptor] = this[descriptor[1].toUpperCase() + descriptor.substring(1) + \"DataService\"].db.store;\n        }\n        if (this.$scope.model.current === undefined || this.$scope.model.current === null) {\n            this.$scope.model.current = {};\n        }\n        this.$scope.model.current[descriptor] = db.current || null;\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null || this.$scope.model[descriptor].length === 0) {\n            console.warn(`${this.toString()}::_transform: the dataset of ${descriptor} was empty`)\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\nComponent.$inject = \"$element\";"]}