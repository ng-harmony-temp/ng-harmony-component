{"version":3,"sources":["./dist/esnext/ng_harmony_component.js"],"names":[],"mappings":"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","file":"./dist/es5/umd_module.js","sourcesContent":["import {\n    Srvc, Ctrl\n}\nfrom \"ng-harmony\";\nexport class DataService extends Srvc {\n    constructor(...args) {\n        super(...args);\n    }\n    _db(api, {\n        name, oneshot, interval\n    }) {\n        this.name = name;\n        this.oneshot = oneshot === true || !(interval !== undefined && interval !== null);\n        this.interval = interval || null;\n        this.q = this.$q.defer();\n        if (this.db === undefined || this.db === null) {\n            this.db = {\n                busy: false,\n                ready: false,\n                handle: (api !== undefined && api !== null) ? this.$resource(api) : null,\n                store: []\n            }\n        }\n        if (this.db.busy === true) {\n            this.$timeout(() => {\n                (this.oneshot === true) ?\n                this.q.reject():\n                    this.q.notify(false);\n            }, 0);\n        }\n        if (this.oneshot === false) {\n            this.q.promise.then(\n                () => {\n                    true;\n                }, (notification) => {\n                    this.$timeout(this._api, this.interval);\n                }, () => {\n                    false;\n                }\n            )\n        }\n        this._api();\n        this.q.promise();\n    }\n    _api() {\n        if (this.db.busy === true) {\n            return null;\n        }\n        this.db.busy = true;\n        this.db.handle.get().$promise\n            .then((data) => {\n                console.info(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: success`);\n                this._store(data[this.name] || data);\n                this.db.busy = false;\n                if (this.oneshot !== false) {\n                    this.q && this.q.resolve();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(true);\n                }\n            }).catch((err) => {\n                console.warn(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: ${err.toString()}`);\n                if (this.oneshot !== false) {\n                    this.q && this.q.reject();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(false);\n                }\n            });\n    }\n    _store(data) {\n        let _data = Object.prototype.toString.call(data) === \"[object Array]\" ? data : [data];\n        for (let [i, o] of this.db.store.entries()) {\n            o.deleted = true;\n        }\n        for (let [i, o] of this.db.store.entries()) {\n            let current = null;\n            if (current = _data.filter((el, i, arr) => {\n                    return (el.id === o.id);\n                })[0]) {\n                for (let [k, v] of this.constructor.iterate(current)) {\n                    this.db.store[i][k] = v;\n                }\n                this.db.store[i].deleted = false;\n            }\n        }\n        for (let [i, o] of _data.entries()) {\n            let current = null;\n            if (this.db.store.filter((el, i, arr) => {\n                    return el.id === o.id;\n                }).length === 0) {\n                this.db.store.push(o);\n                this.db.store[this.db.store.length - 1].deleted = false;\n            }\n        }\n    }\n}\nDataService.$inject = [\"$resource\", \"$interval\", \"$q\", \"$timeout\"];\nexport class DynamicDataService extends DataService {\n    constructor(...args) {\n        super(...args);\n    }\n    subscribe(callback, oneshot = false) {\n        if (this.subscribers === undefined || this.subscribers === null) {\n            this.subscribers = [];\n        }\n        if (this.once_subscribers === undefined || this.once_subscribers === null) {\n            this.once_subscribers = [];\n        }\n        if (onehost === true) {\n            this.once_subscribers.push(callback);\n        } else {\n            this.subscribers.push(callback);\n        }\n    }\n    aspects(injection, oneshot = false) {\n        if (this.aspects === undefined || this.aspects === null) {\n            this.aspects = [];\n        }\n        if (this.once_aspects === undefined || this.once_aspects === null) {\n            this.once_aspects = [];\n        }\n        if (onehost === true) {\n            this.once_aspects.push(injection);\n        } else {\n            this.aspects.push(injection);\n        }\n    }\n    getData(matcher) {\n        return this.db.store.filter((el, i, arr) => {\n            for (let [k, v] of this.constructor.iterate(matcher)) {\n                if (!(typeof v === \"function\" && v(el[k]) || (el[k] === v))) {\n                    return false;\n                }\n            }\n            return true;\n        })\n    }\n    setData(opts) {\n        if (!~opts.i) {\n            for (let [doc, i] of this.db.store.entries()) {\n                doc[opts.prop] = typeof opts.val === \"function\" ? opts.val(this.db, doc.id) : opts.val;\n            }\n        } else {\n            let foo = this.db.store[typeof opts.i === \"function\" ? opts.i(this.db) : opts.i];\n            if (foo !== undefined && foo !== null) {\n                foo[opts.prop] = typeof opts.val === \"function\" ?\n                    opts.val(this.db, this.db.store[\n                        typeof opts.i === \"function\" ?\n                        opts.i(this.db) :\n                        opts.i\n                    ]) :\n                    opts.val\n            }\n        }\n    }\n    digest() {\n        if (this.db.ready === false) {\n            return null;\n        }\n        if (this.db.resolved === undefined || this.db.resolved === null) {\n            this.db.resolved = false;\n        }\n        for (let [i, once_aspect] of this.once_aspects.entries()) {\n            typeof once_aspect === \"function\" && once_aspect(this.db);\n            this.once_aspects[i] = null;\n        }\n        this.once_aspects = [];\n        for (let [i, aspect] of this.aspects.entries()) {\n            aspect(this.db);\n        }\n        for (let [i, d] of this.db.store.entries()) {\n            if (d.deleted === true) {\n                d.selected = false;\n            } else if (d.selected === true) {\n                this.db.current = d;\n            } else if (d.selected === undefined || d.selected === null) {\n                d.selected = false;\n            }\n        }\n        this.db.resolved = true;\n        for (let [i, once_cb] of this.once_subscribers.entries()) {\n            typeof once_cb === \"function\" && once_cb(this.db);\n            this.once_subscribers[i] = null;\n        }\n        this.once_subscribers = [];\n        for (let [i, cb] of this.subscribers.entries()) {\n            cb(this.db);\n        }\n        return true;\n    }\n}\nexport class Component extends Ctrl {\n    constructor(...args) {\n        super(...args);\n        this.$scope.model = {};\n        this.transform = [{\n            descriptor: \"Name\", //of DataService without the DataService-suffix\n            init: [\n                // i is the id ... 0 - length-1 ... or -1 for all datasets\n                //{ i: 0, prop: \"loading\", val: false },\n                //{ i: -1, prop: \"selected\", val: (db, id) => { return id is 0; } }\n            ],\n            digest: [\n                //{ i: -1, prop: \"selected\", val: (db, id) -> (db.store.find((el, i, arr) => { return el.id is id; }).special is this.$scope.someConditional }\n            ]\n        }];\n        this.$scope.state = {\n            loading: true,\n            selected: null,\n            busy: null,\n            error: null\n        };\n        for (let [i, dataset] of this.transform.entries()) {\n            let Service = this[`${dataset.descriptor[0].toUpperCase()}${dataset.descriptor.substr(1)}DataService`];\n            for (let [i, rule] of dataset.init.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                }, true);\n            }\n            for (let [i, rule] of dataset.digest.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                });\n            }\n        }\n        for (let [key, Service] of this.constructor.iterate(this)) {\n            if (!/DataService/.test(key)) {\n                continue;\n            }\n            descriptor = key.remove(\"DataService\").toLowerCase();\n            Service.subscribe(this._transform.bind(this, descriptor));\n            if (Service.db && Service.db.ready === true) {\n                Service.digest();\n            }\n        }\n        for (let [k, v] of this.constructor.iterate(this.$scope.state)) {\n            let className = this.$element.className.split(/\\s+/);\n            let hasClass = !!~className.indexOf(k);\n            if (v === true && !hasClass) {\n                this.$element.addClass(k);\n            }\n            ((_k, _v, _hasClass, _className) => {\n                this.$scope.$watch(`state.${_k}`, (after, before) => {\n                    if (after === true && !_hasClass) {\n                        this.$element.className += ` ${_k}`;\n                    } else if (_hasClass) {\n                        this.$element.className = _className.filter((el, i, arr) => {\n                            return el !== _k\n                        }).join(\" \");\n                    }\n                    if (before === after || ((before === undefined || before === null) && (after === undefined || after === null))) {\n                        return null;\n                    }\n                    this.$scope.$emit(`state.${_k}`, {\n                        obj: this.toString(),\n                        val: after\n                    });\n                })\n            })(k, v, hasClass, className);\n        }\n    }\n    _transform(descriptor, db) {\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null) {\n            this.$scope.model[descriptor] = this[descriptor[1].toUpperCase() + descriptor.substring(1) + \"DataService\"].db.store;\n        }\n        if (this.$scope.model.current === undefined || this.$scope.model.current === null) {\n            this.$scope.model.current = {};\n        }\n        this.$scope.model.current[descriptor] = db.current || null;\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null || this.$scope.model[descriptor].length === 0) {\n            console.warn(`${this.toString()}::_transform: the dataset of ${descriptor} was empty`)\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\nComponent.$inject = \"$element\";"]}