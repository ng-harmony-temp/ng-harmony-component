{"version":3,"sources":["./dist/esnext/ng_harmony_component.js"],"names":[],"mappings":"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","file":"./dist/es5/system_module.js","sourcesContent":["import {\n    Srvc, Ctrl\n}\nfrom \"ng-harmony\";\nexport class DataService extends Srvc {\n    constructor(...args) {\n        super(...args);\n    }\n    _db(api, {\n        name, oneshot, interval\n    }) {\n        this.name = name;\n        this.oneshot = oneshot === true || !(interval !== undefined && interval !== null);\n        this.interval = interval || null;\n        this.q = this.$q.defer();\n        if (this.db === undefined || this.db === null) {\n            this.db = {\n                busy: false,\n                ready: false,\n                handle: (api !== undefined && api !== null) ? this.$resource(api) : null,\n                store: []\n            }\n        }\n        if (this.db.busy === true) {\n            this.$timeout(() => {\n                (this.oneshot === true) ?\n                this.q.reject():\n                    this.q.notify(false);\n            }, 0);\n        }\n        if (this.oneshot === false) {\n            this.q.promise.then(\n                () => {\n                    true;\n                }, (notification) => {\n                    this.$timeout(this._api, this.interval);\n                }, () => {\n                    false;\n                }\n            )\n        }\n        this._api();\n        this.q.promise();\n    }\n    _api() {\n        if (this.db.busy === true) {\n            return null;\n        }\n        this.db.busy = true;\n        this.db.handle.get().$promise\n            .then((data) => {\n                console.info(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: success`);\n                this._store(data[this.name] || data);\n                this.db.busy = false;\n                if (this.oneshot !== false) {\n                    this.q && this.q.resolve();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(true);\n                }\n            }).catch((err) => {\n                console.warn(`${(new Date()).toLocaleTimeString('en-US')}: API/${this.name}: ${err.toString()}`);\n                if (this.oneshot !== false) {\n                    this.q && this.q.reject();\n                    this.q = this.$q.defer();\n                } else {\n                    this.q.notify(false);\n                }\n            });\n    }\n    _store(data) {\n        let _data = Object.prototype.toString.call(data) === \"[object Array]\" ? data : [data];\n        for (let [i, o] of this.db.store.entries()) {\n            o.deleted = true;\n        }\n        for (let [i, o] of this.db.store.entries()) {\n            let current = null;\n            if (current = _data.filter((el, i, arr) => {\n                    return (el.id === o.id);\n                })[0]) {\n                for (let [k, v] of this.constructor.iterate(current)) {\n                    this.db.store[i][k] = v;\n                }\n                this.db.store[i].deleted = false;\n            }\n        }\n        for (let [i, o] of _data.entries()) {\n            let current = null;\n            if (this.db.store.filter((el, i, arr) => {\n                    return el.id === o.id;\n                }).length === 0) {\n                this.db.store.push(o);\n                this.db.store[this.db.store.length - 1].deleted = false;\n            }\n        }\n    }\n}\nDataService.$inject = [\"$resource\", \"$interval\", \"$q\", \"$timeout\"];\nexport class DynamicDataService extends DataService {\n    constructor(...args) {\n        super(...args);\n    }\n    subscribe(callback, oneshot = false) {\n        if (this.subscribers === undefined || this.subscribers === null) {\n            this.subscribers = [];\n        }\n        if (this.once_subscribers === undefined || this.once_subscribers === null) {\n            this.once_subscribers = [];\n        }\n        if (onehost === true) {\n            this.once_subscribers.push(callback);\n        } else {\n            this.subscribers.push(callback);\n        }\n    }\n    aspects(injection, oneshot = false) {\n        if (this.aspects === undefined || this.aspects === null) {\n            this.aspects = [];\n        }\n        if (this.once_aspects === undefined || this.once_aspects === null) {\n            this.once_aspects = [];\n        }\n        if (onehost === true) {\n            this.once_aspects.push(injection);\n        } else {\n            this.aspects.push(injection);\n        }\n    }\n    getData(matcher) {\n        return this.db.store.filter((el, i, arr) => {\n            for (let [k, v] of this.constructor.iterate(matcher)) {\n                if (!(typeof v === \"function\" && v(el[k]) || (el[k] === v))) {\n                    return false;\n                }\n            }\n            return true;\n        })\n    }\n    setData(opts) {\n        if (!~opts.i) {\n            for (let [doc, i] of this.db.store.entries()) {\n                doc[opts.prop] = typeof opts.val === \"function\" ? opts.val(this.db, doc.id) : opts.val;\n            }\n        } else {\n            let foo = this.db.store[typeof opts.i === \"function\" ? opts.i(this.db) : opts.i];\n            if (foo !== undefined && foo !== null) {\n                foo[opts.prop] = typeof opts.val === \"function\" ?\n                    opts.val(this.db, this.db.store[\n                        typeof opts.i === \"function\" ?\n                        opts.i(this.db) :\n                        opts.i\n                    ]) :\n                    opts.val\n            }\n        }\n    }\n    digest() {\n        if (this.db.ready === false) {\n            return null;\n        }\n        if (this.db.resolved === undefined || this.db.resolved === null) {\n            this.db.resolved = false;\n        }\n        for (let [i, once_aspect] of this.once_aspects.entries()) {\n            typeof once_aspect === \"function\" && once_aspect(this.db);\n            this.once_aspects[i] = null;\n        }\n        this.once_aspects = [];\n        for (let [i, aspect] of this.aspects.entries()) {\n            aspect(this.db);\n        }\n        for (let [i, d] of this.db.store.entries()) {\n            if (d.deleted === true) {\n                d.selected = false;\n            } else if (d.selected === true) {\n                this.db.current = d;\n            } else if (d.selected === undefined || d.selected === null) {\n                d.selected = false;\n            }\n        }\n        this.db.resolved = true;\n        for (let [i, once_cb] of this.once_subscribers.entries()) {\n            typeof once_cb === \"function\" && once_cb(this.db);\n            this.once_subscribers[i] = null;\n        }\n        this.once_subscribers = [];\n        for (let [i, cb] of this.subscribers.entries()) {\n            cb(this.db);\n        }\n        return true;\n    }\n}\nexport class Component extends Ctrl {\n    constructor(...args) {\n        super(...args);\n        this.$scope.model = {};\n        this.transform = [{\n            descriptor: \"Name\", //of DataService without the DataService-suffix\n            init: [\n                // i is the id ... 0 - length-1 ... or -1 for all datasets\n                //{ i: 0, prop: \"loading\", val: false },\n                //{ i: -1, prop: \"selected\", val: (db, id) => { return id is 0; } }\n            ],\n            digest: [\n                //{ i: -1, prop: \"selected\", val: (db, id) -> (db.store.find((el, i, arr) => { return el.id is id; }).special is this.$scope.someConditional }\n            ]\n        }];\n        this.$scope.state = {\n            loading: true,\n            selected: null,\n            busy: null,\n            error: null\n        };\n        for (let [i, dataset] of this.transform.entries()) {\n            let Service = this[`${dataset.descriptor[0].toUpperCase()}${dataset.descriptor.substr(1)}DataService`];\n            for (let [i, rule] of dataset.init.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                }, true);\n            }\n            for (let [i, rule] of dataset.digest.entries()) {\n                Service.aspects(() => {\n                    Service.set(rule)\n                });\n            }\n        }\n        for (let [key, Service] of this.constructor.iterate(this)) {\n            if (!/DataService/.test(key)) {\n                continue;\n            }\n            descriptor = key.remove(\"DataService\").toLowerCase();\n            Service.subscribe(this._transform.bind(this, descriptor));\n            if (Service.db && Service.db.ready === true) {\n                Service.digest();\n            }\n        }\n        for (let [k, v] of this.constructor.iterate(this.$scope.state)) {\n            let className = this.$element.className.split(/\\s+/);\n            let hasClass = !!~className.indexOf(k);\n            if (v === true && !hasClass) {\n                this.$element.addClass(k);\n            }\n            ((_k, _v, _hasClass, _className) => {\n                this.$scope.$watch(`state.${_k}`, (after, before) => {\n                    if (after === true && !_hasClass) {\n                        this.$element.className += ` ${_k}`;\n                    } else if (_hasClass) {\n                        this.$element.className = _className.filter((el, i, arr) => {\n                            return el !== _k\n                        }).join(\" \");\n                    }\n                    if (before === after || ((before === undefined || before === null) && (after === undefined || after === null))) {\n                        return null;\n                    }\n                    this.$scope.$emit(`state.${_k}`, {\n                        obj: this.toString(),\n                        val: after\n                    });\n                })\n            })(k, v, hasClass, className);\n        }\n    }\n    _transform(descriptor, db) {\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null) {\n            this.$scope.model[descriptor] = this[descriptor[1].toUpperCase() + descriptor.substring(1) + \"DataService\"].db.store;\n        }\n        if (this.$scope.model.current === undefined || this.$scope.model.current === null) {\n            this.$scope.model.current = {};\n        }\n        this.$scope.model.current[descriptor] = db.current || null;\n        if (this.$scope.model[descriptor] === undefined || this.$scope.model[descriptor] === null || this.$scope.model[descriptor].length === 0) {\n            console.warn(`${this.toString()}::_transform: the dataset of ${descriptor} was empty`)\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\nComponent.$inject = \"$element\";"]}